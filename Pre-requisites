There are three steps in total. 
> Create a custom search engine and get your cx id. 
> Get your API keys
> Test it for a sample query. 

Follow this link (https://cse.google.com/cse/all) and create a custom search engine. And enable - Search Entire Web Option
